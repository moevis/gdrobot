{% extends "template/layout.html" %}

{% block js %}
<script>
    var times = 1;
</script>
<script src="/javascripts/user/login.js"></script>
{% endblock %}

{% block css %}
<link rel="stylesheet" href="/stylesheets/user/login.css">
{% endblock %}

{% block content %}
{% raw %}
<h2>登陆</h2>
<hr />
<form id="app" v-on:submit.prevent>
    <div v-if="notice" class="alert alert-warning alert-dismissible" role="alert">
        {{ message }}
        <button v-on:click="dismiss()" type="button" class="close" data-dismiss="alert"><span>&times;</span></button>
    </div>
    <div class="form-group">
        <label for="email">登陆名</label>
        <input type="email" class="form-control" id="email" v-model="table.email" placeholder="邮箱">
    </div>
    <div class="form-group">
        <label for="password">密码</label>
        <input type="password" class="form-control" id="password" v-model="table.password" placeholder="密码">
    </div>
    <div class="form-group" v-if="times > 2">
        <label for="captcha">验证码</label>
        <div class="raw" v-on:click="getCaptcha()"><svg class="well" id="captcha-image" v-html="captchaImage"></svg></div>
        <input type="text" class="form-control" id="captcha" v-model="table.captcha" placeholder="验证码" autocomplete=off>
    </div>
    <div class="form-group">
        <button type="submit" :disabled="disable" class="btn btn-default btn-primary" v-on:click="submit()">登陆</button> <a type="submit" href="/user/register" class="btn btn-default">注册账号</a>
    </div>
</form>
{% endraw %}
{% endblock %}